{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{useNavigate}from\"react-router-dom\";import domainName from\"../../domain\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function RegisterPage(){const[email,setEmail]=useState(\"\");const[name,setName]=useState(\"\");const[password,setPassword]=useState(\"\");const[errormsg,setErrormsg]=useState(\"\");const[redirect,setRedirect]=useState(false);const domain=domainName;const navigate=useNavigate();const registerUser=()=>{try{fetch(\"\".concat(domain,\"/signup\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\",\"ngrok-skip-browser-warning\":\"skip\"},body:JSON.stringify({password:password,email:email,name:name})}).then(response=>{if(response.status===200){setRedirect(true);}return response.json();}).then(data=>{});}catch(error){if(error.response.status===401){alert(\"Invalid credentials\");}}};useEffect(()=>{if(redirect===true){setTimeout(()=>{navigate(\"/login\");},1500);}});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"REGISTER\"}),/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Email: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:email,onChange:e=>setEmail(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Name: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:name,onChange:e=>setName(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Password: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:password,onChange:e=>setPassword(e.target.value)})]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>registerUser(),children:\"Submit\"})]}),/*#__PURE__*/_jsx(\"p\",{children:errormsg})]});}export default RegisterPage;","map":{"version":3,"names":["React","useEffect","useState","useNavigate","domainName","jsx","_jsx","jsxs","_jsxs","RegisterPage","email","setEmail","name","setName","password","setPassword","errormsg","setErrormsg","redirect","setRedirect","domain","navigate","registerUser","fetch","concat","method","headers","body","JSON","stringify","then","response","status","json","data","error","alert","setTimeout","children","type","value","onChange","e","target","onClick"],"sources":["/Users/davediemert/Repos/phlinger-frontend/src/Components/RegisterPage/RegisterPage.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport domainName from \"../../domain\";\n\nfunction RegisterPage() {\n  const [email, setEmail] = useState(\"\");\n  const [name, setName] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [errormsg, setErrormsg] = useState(\"\");\n  const [redirect, setRedirect] = useState(false);\n  const domain = domainName;\n  const navigate = useNavigate();\n\n  const registerUser = () => {\n    try {\n      fetch(`${domain}/signup`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"ngrok-skip-browser-warning\": \"skip\",\n        },\n        body: JSON.stringify({\n          password: password,\n          email: email,\n          name: name,\n        }),\n      })\n        .then((response) => {\n          if (response.status === 200) {\n            setRedirect(true);\n          }\n          return response.json();\n        })\n        .then((data) => {});\n    } catch (error) {\n      if (error.response.status === 401) {\n        alert(\"Invalid credentials\");\n      }\n    }\n  };\n\n  useEffect(() => {\n    if (redirect === true) {\n      setTimeout(() => {\n        navigate(\"/login\");\n      }, 1500);\n    }\n  });\n\n  return (\n    <div>\n      <h1>REGISTER</h1>\n      <form>\n        <div>\n          <label>Email: </label>\n          <input\n            type=\"text\"\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n          />\n        </div>\n        <div>\n          <label>Name: </label>\n          <input\n            type=\"text\"\n            value={name}\n            onChange={(e) => setName(e.target.value)}\n          />\n        </div>\n        <div>\n          <label>Password: </label>\n          <input\n            type=\"password\"\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n          />\n        </div>\n        <button type=\"button\" onClick={() => registerUser()}>\n          Submit\n        </button>\n      </form>\n      <p>{errormsg}</p>\n    </div>\n  );\n}\n\nexport default RegisterPage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}